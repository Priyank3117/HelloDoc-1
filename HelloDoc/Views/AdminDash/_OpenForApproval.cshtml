@model DAL.ViewModel.TimeSheet
@{
    int startDate = Model.startdate.Day;
    int month = Model.startdate.Month;
    int endDate = Model.enddate.Day;
    int year = Model.startdate.Year;
    var timesheetdata = Model.timesheetdata;
    string takeDate = DateOnly.FromDateTime(new DateTime(year, month, startDate)).ToString();
}
<form asp-action="SubmitTimeSheet" id="form">
    <table class="table mb-0 table-borderless ">
        <thead class="text-body border-4 bg-body-secondary">
            <tr>
                <th class="text-center">Date</th>
                <th class=" text-center">On Call Hours</th>
                <th class=" text-center">Total Hours</th>
                <th class=" text-center">Weekend/Holiday</th>
                <th class=" text-center">Number Of HouseCalls</th>
                <th class="text-center">Number Of Phone Calls</th>
            </tr>
        </thead>
        <tbody class="white-bag">
            @{
                int k = 0;
            }
            @for (int i = startDate; i <= endDate; i++)
            {

                <tr>
                    @{
                        string date = new DateTime(year, month, i).Date.ToString("dd/MM/yyyy");
                    }
                    <input asp-for="@Model.timesheetdata[k].date" hidden />
                    <td class="align-middle text-center">@date</td>
                    <td class="align-middle text-center">@(timesheetdata[k] == null ? 0 : timesheetdata[k].onCallhours)</td>
                    <td class="align-middle text-center"><input asp-for="@Model.timesheetdata[k].totalHours" type="number" class="form-control" min="0" max="24" value="@(timesheetdata[k] == null ? 0 : @timesheetdata[k].totalHours)"></td>
                    <td class="align-middle text-center d-flex justify-content-center py-3">
                        <input type="checkbox" asp-for="@Model.timesheetdata[k].isWeekend" class="form-check-input" checked="@(timesheetdata[k] == null ? false : timesheetdata[k].isWeekend)" />
                    </td>
                    <td class="align-middle text-center"><input type="number" asp-for="@Model.timesheetdata[k].HouseCallNo" class="form-control" value="@(timesheetdata[k] == null ? 0 : timesheetdata[k].HouseCallNo)"></td>
                    <td class="align-middle text-center"><input type="number" asp-for="@Model.timesheetdata[k].PhoneCallNo" class="form-control" value="@(timesheetdata[k] == null ? 0 :timesheetdata[k].PhoneCallNo)"></td>
                </tr>
                k++;


            }

            <tr>
                <td class="ms-4">payrate</td>
                <td><input type="number"  class="form-control " disabled></td>
                <td> <input type="number" class="form-control " disabled></td>
                <td> <input type="number" class="form-control " disabled></td>
                <td> <input type="number" class="form-control " disabled></td>
                <td  class="white-bag"> </td>
            </tr>
            <tr>
                <td class="ms-4">Invoice Total</td>
                <td><input type="number" class="form-control"disabled></td>
                <td><input type="number" class="form-control"disabled></td>
                <td><input type="number" class="form-control"disabled></td>
                <td> <input type="number" class="form-control"disabled></td>
                <td><input type="number" class="form-control"disabled></td>
            </tr>
           
        </tbody>
    </table>
   
    <div class="d-flex pt-4  pe-3  pb-3 white-bag justify-content-end">
        <button class="btn btn-info" onclick="FormSubmit()">submit</button>
    </div>
</form>


<div class="d-flex justify-content-between mt-2">
    <button class="btn btn-info" onclick="openRecieptForm()">Add Receipts</button>
</div>

<div class="mt-4">

    @{
       
        int PhysicianId = ViewBag.PhysicianId;
        var Listmodel = Model.reimbursementdata;
        int j = 0;
    }
    <table class="table table-borderless  white-bag">
        <thead class="text-body border-0">
            <tr>
                <th class="align-middle" style="width: 20% !important">Date</th>
                <th class="align-middle" style="width: 20% !important">Item</th>
                <th class="align-middle" style="width: 20% !important">Amount</th>
                <th class="align-middle" style="width: 20% !important">Bill</th>
                <th class="align-middle" style="width: 20% !important">Action</th>
            </tr>
        </thead>
        <tbody>
            @{
                int count = 0;

            }
            @for (int i = startDate; i <= endDate; i++)
            {

                string date = new DateTime(year, month, i).Date.ToString("dd/MM/yyyy");
                int day = new DateTime(year, month, i).Date.Day;
                <form id="@j" class="formSubmit" enctype="multipart/form-data">
                    @if (Listmodel.Count > 0 && count < Listmodel.Count && Listmodel[count].TimesheetDetailId == i)
                    {
                        @if (Listmodel[count].IsDeleted == false)
                        {
                        <tr>
                            <td class="d-none"><input id="tdId_@j" value="@Listmodel[count].TimesheetDetailId" hidden /></td>
                            <td class="align-middle">@date</td>
                            <td class="d-none"><input id="TdDate_@j" name="Date" value="@date" hidden /></td>
                            <td class="align-middle" id="Item_@j">@Listmodel[count].ItemName</td>
                            <td class="align-middle" id="Amount_@j">@Listmodel[count].Amount</td>
                            <td class="align-middle" id="file_@j">@Listmodel[count].Bill</td>
                            <td class="align-middle text-center d-flex justify-content-between" id="buttonset_@j">
 
                                <a class="btn btn-outline-info" target="_blank" href='~/Receipts/@PhysicianId/@day@Listmodel[count].Bill'>View</a>
                            </td>


                         
                        </tr>
                        }

                        count++;
                    }
                    else
                    {
                    <tr>
                        <td class="d-none"><input id="tdDate_@j" name="Date" value="@date" hidden /></td>
                        <td class="align-middle">@date</td>

                        <td class="align-middle">
                            <input type="text" id="Item_@j" name="Item" class="form-control" />
                        </td>

                        <td class="align-middle">
                            <input type="number" min="0" id="Amount_@j" name="Amount" class="form-control" />
                        </td>

                        <td class="align-middle d-flex justify-content-center py-3">
                            <input type="number"  class="form-control " disabled />
                           
                        </td>
                    </tr>


                    }
                </form>
                j++;

            }
        </tbody>
    </table>
</div>